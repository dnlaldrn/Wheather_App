  <!doctype html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Wheater App</title>
    </head>
    <body>
      <div id = "background" class="min-h-screen min-w-screen flex justify-center items-center flex-col">
          <p class="text-2xl mb-2 font-serif text-black">Wheather Wheather lang</p>
          <div class="bg-white/50 backdrop-blur-[16px] border border-white/25 h-[300px] w-xl flex justify-center items-center rounded-2xl max-md:w-sm px-5 ">
          
            <label>Enter a City
              <input class="border-2 border-white-200 px-4 py-3 rounded-2xl max-md:w-[10%]" type="text" placeholder="e.g Manila" id="cityInput">
          <button  onclick="getWheather()">Search</button>
          <div id="display" class="flex flex-col justify-center items-center "></div>
            </label>
          </div>
      </div>



      <script type="module" src="/src/main.js"></script>
      <script>
        document.addEventListener("keydown", (event)=> {  
          if(event.key === "Enter"){
            getWheather();
          }

        })

        const apiKey = "bcddfc07cd0225204e0ce47378d4ce81";
        let background = document.getElementById('background');
        let displayResult = document.getElementById('display')
        async function getWheather(){
          let city = document.getElementById('cityInput').value.trim();
          try{
            const response = await fetch (`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
            if(!response.ok){
            throw new Error ("city not found");
            } 
            const data = await response.json();
            displayResult.innerHTML = `
            <h2 class="text-xl font-semibold">${data.name}, ${data.sys.country}</h2>
            <p class="text-lg">ðŸŒ¡ ${data.main.temp}Â°C</p>
            <p>${data.weather[0].description}</p>
            <p>ðŸ’¨ Wind: ${data.wind.speed} m/s</p>`

            background.style.backgroundImage = `url('/images/${data.weather[0].main}.jpg')`;
            background.style.backgroundSize = "cover";
            background.style.backgroundPosition = "center";

          }catch(error){
            displayResult.innerHTML = `<p class="text-red-700 mt-4">Please enter a valid input</p>`
          }
          

          
          
        }
        
      </script>
    </body>
  </html>
